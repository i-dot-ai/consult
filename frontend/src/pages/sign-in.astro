---
import Layout from '../layouts/Layout.astro';
import Section from '../components/Section/Section.svelte';
import OAuthLogin from '../components/OAuthLogin/OAuthLogin.svelte';

// Check for error parameter
const error = Astro.url.searchParams.get('error');
let errorMessage = null;

if (error === 'auth_failed') {
    errorMessage = 'Authentication failed. Please try again.';
}
---
<Layout>
	<Section>
        <OAuthLogin client:load errorMessage={errorMessage} />
	</Section>
</Layout>
